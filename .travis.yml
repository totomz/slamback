language: node_js
node_js:
- node
cache:
  directories:
  - node_modules
env:
  global:
  - secure: BCIAANLtSmGQCG5Tr9AkBvvF6L9oZtpkZUqCtlaNgyoopl97WyhEHMpZdlPyQidOXg4cxsmBA+W0tHAlD83jjEBu5s0JR7BX4XVOhjS304XxX0fDQnl/anZOOOOLvVFcan5HMD8luB1cF8TLrFrmxgcjeH5w56SPJdCdepTxBhreyxGGrJWVluS3wviKcfafgdcJ6jjOTYAuU5ifBZNHByjVbvZAGxkp9aevhQpycrA2NVfEe4/C3VQIKjG/q8ZM8dF8vnN9iDRVhYsrXKwbnBydStpw2dYZVBy2h5ImEgbjqZBoYGMxnfwtbXcIDNuqBFGlN+AK0OmtpVNw7BKewh3EY+o4xNaw0afhA5sXgcE43jA8aFQFrx88vjT6w8dJBhQYSkr2ZNhiLoNAXGWk6FLOpBIstb4ykGAiG1ZRjUFVYo9dugt2HlwJFu0A4LlcXQHpvQJLOImbM0voUwc7cR3dFBptL4BAcyKyKU73SvVyNjBgTmZ8JUPn6seAnu2wKi5Z/+id/tNwRgKADEFvHQ3KH9xrLs3jeBxUTEcu60InWSPh+6V7w4Z0E3jOFAsClRPd2LfHTxKJDWsnhHsJLGcBEKScsCXTTF/q+GqjeOeQRGJgFY3QhWUQn2XwzJ+74n4McWA+G2oUeweyoZRlKMkBBDDQcrZ6Ewpr4IkbbEw=
  - secure: Q7nQ+CV7sCV6oGol0Wo3nyyqErrhBFwlPfsFmg0rClVbVGcN7CKG1P9lBrC6iDCHJNzv3l4dT9S/xmmS6344EG56QQhX/5xlIq8CSdPiIHTM50HIYyW88l899d6/46J/NsCFYDKj2SklsALJFure5+7yuEbAEsBkS9cWooxvrjfyBnMXH8RQDPUeF7gsrGJSyHVxMRPxfEnCQXaP64jr2ZC5QIW9Chsa4MKUqEeKt749eLJ7XEBZrRpr3UabTa+R7CiHC/WxhkaJa+mqa8RdBeXU9rjIKqMEw76xYRvVvDOYgg9FZNTSxg7venBFN4QXkJQBHpKC4xhjNF3pYMLNknro8gSv/pTvg+ZJdR7vBnkT00f0YABMhNUHptwdYRmsqWV+uKEOzBRjwB+m5fmrnLJ7zfb7JTVVIbBW1yfApF3+9YmvNB1QN2OC49r3bytaaOeaZqBalM1W0UHGKnR9XacJevRxlR5+53+NZL4v5utKIcxxRXCDAAuVcDydtMqpndMp82J8aLuKW/25XX19yyKXsbwu2Q8wgjS8MUVADDDPyUffbYdivx6H3D3LYHOnrSqhTd4Cu7ptUrNB8rDAnuW+ev/o9svt6RBfZ77p+4/lo13lJZuellSRuXGUL821q1hdQYpjlRrSEzLFepiy79vYrWnQQoaFeC3cxt8l4sc=
  - secure: BV18Hzj3kumhaWF6h4Kd8ilfMscVlw8jPaWg85uov993vgOvHvn0ewU0PINKG/wa0JuF6QrJ9gyeyWTBBAOpYufmoQAjA1V5J2BvNFYmrQyiagepsybg2S3MBmcl6KxEynxU41hDW/j3LMttrkjTB+9fWsp2aRYuxVX/YvHCk+UpqqgDd6UP+IgR9EHCITbYfovaM1wwyiHyS1xC3kpTNQiyAnsOTg2rrODyK/GBPzuk7KAErnu3TdSZriTJNDce9p2mgzJjvYga4n7302Y41YTq0qsUkpDEd3HoDppgemh0+t2atYRYc62+MbZd6qSAp+QVq/GmTPhlgLntB43HpoxhTx1Ku8+/vSdi4w7tOVqHk9qaLCqoSgfdGRnWj7hqVkG49Q+LGeECMVE6UMPBOQeO3JcbwoPYflvB2EXPeqwoOi8agN4TXs1/n2Ky0r7BdBKB54QRkZwQM19O8QgW4nwZ0LhWRkwc3Pp7uVu0IcYXX3Ku+4Nv1Y3Q5XJwQOeNsp6IEqg41W5jlcLs8KcdRYAO7KFPglp5+U0Qmlvga1OTeLmGUd2AT1RRplvToXkd2iszZ7VmiJZCkn8x5QvhigR0qmtExo1rKysvS4fqJS04XLjT/cF4KlB4R1qhkafO6MoJXtksWnG9gKft7mXSPIto8bQ7BM2RrRFHjHtJp2E=
after_success:
  "mkdir build; zip -r build/pippo.zip ./ --exclude="*.git*" --exclude="*.idea*" --exclude="*.lambda*" --exclude="*test*" --exclude="*build*" --exclude=.DS_Store --exclude=.env --exclude=.travis.yml --exclude=aws_stack.json --exclude=context.json --exclude=event.json --exclude=slamback.iml"
deploy:
  provider: s3
  access_key_id: AKIAJ6DMKJ43ZOI4VEAA
  secret_access_key:
    secure: KtQ4jkhigZgANJsI2Z7tkud136S5kLCvE72tQv4JkZpu1d4yJ2lNUkivFqM0qtq7HrC05MRbcfcKGo2PN7EC9KgxaFD1zyhG2ZTNBUaCow87SMvV9QXcC3/CCXPFaVSOJrun7fenTdBNIuzaGqZ4l9LOJlpJDmL1z4VZP3OUctXm0ggaa9FVq4AdevtLewYaOuWBmyFyiJG73bx0MO2YwBS+1uafIV5augfXqhfU2ZKZ7NebM0IHZ7uhM/VVA+qTeJlUBdrF8Pxzph4mMcOR1Gsb3SiEyXQYPoK4CJOEY5ao4meXKKZ5A5XdA2jiyu+dsLQIHBT2JWosPgO1ECm+OAzgOE7Y5HVcJnuKGSwbekys360Mh/i2chzPlaC0N4NetgjtWPJ6BZaI8FZf6e9LlnrYRoDFC4wrMvw2V0TX+aEF5jF8tgE2fNCmMJFGlnKWydt7UbLfw6LJRtEQbG08xXYyqW91Q/kHgD/+9LfB4e+9iUQk4I0ZbKKHa0kjfBi30HK9RUjk65S6EbCjgUCRwVhuJQadIImB3lV6ABOgcAqHyO+hX0+kUVJEOVrOUohrDaluIQWtFalgo7+werU85NaRx3DPYAyDtUmuX4AcJLLRBEjostVQt1aqLi3/V2Tm7hfd5y6Z06Y4cwFAKaLNENNUX4nP+q0eDUfxpYm8sA4=
  bucket: slamback-release
  skip_cleanup: true
  local_dir: build
  region: eu-west-1
